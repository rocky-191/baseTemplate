function MouseDirection(t,e){var n=$(t);e=$.extend({},{enter:$.noop,leave:$.noop},e||{});var o=["top","right","bottom","left"],i=function(t,e){var n,o,i,r,f,a,s,h=t.getBoundingClientRect();if(h.width||(h.width=h.right-h.left),h.height||(h.height=h.bottom-h.top),n=h.left,o=-h.top,i=h.left+h.width,r=-(h.top+h.height),f=h.left+h.width/2,a=-(h.top+h.height/2),Math.abs(n-i)<1e-4)return 4;s=(o-r)/(n-i);var l,c,u=[s,-s];l=e.clientX,c=-e.clientY;var v;return v=(c-a)/(l-f),isFinite(v)&&u[0]<v&&v<u[1]?l>f?1:3:c>a?0:2};n.on("mouseenter",function(t){var r=i(this,t);e.enter(n,o[r])}).on("mouseleave",function(t){var r=i(this,t);e.leave(n,o[r])})}window.onload=function(){var t={left:{top:"0",left:"-100%"},right:{top:"0",left:"100%"},bottom:{top:"100%",left:"0"},top:{top:"-100%",left:"0"}};$(".box").each(function(){new MouseDirection(this,{enter:function(e,n){var o=e.find(".content").removeClass("trans");o.css(t[n]),o[0].offsetWidth,o.addClass("trans"),o.css({left:"0",top:"0"})},leave:function(e,n){e.find(".content").css(t[n])}})})};